<!DOCTYPE html>
<html lang="en">
<head>
    <title>Archive</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- style -->
    <link href="css/new-style.css" rel="stylesheet">
    <!-- font links -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">    
</head>
<body>
    <header class="card card--s">
            <a href="index.html" class="nav__logo">m/v</a>
            <nav>
                <button class="nav__btn js-nav-btn">+ menu</button>
                <ul class="js-nav">
                    <li><a href="new-design.html" class="nav__link"><span class="">homepage</span></a></li>
                    <li><a href="archive.html" class="nav__link"><span class="nav__link--active">archive</span></a></li>
                </ul>
            </nav>
    </header>
    <main class="card card--m">
        <div class="content stack--m">
                <h1>Archive</h1>
                <div class="stack--s stack-flex">
                    <h3>hello</h3>
                    <div class="stack--xs">
                        <p>Childhood's end, Arthur Clarke ✓</p>
                        <p>Sull'amore e altri demoni, Gabriel García Márquez ✓</p>
                    </div>
                    
                </div>
                
                <div id="books-container"></div>
        </div>
    </main>
    <script>
        fetch('json/archive.json')
        .then(response => response.json())
        .then(data => {
            // console.log("full data:", data)
            // console.log("Months:", data.months)
            // console.log("Months keys:", Object.keys(data.months))

            let archiveList = document.querySelector(".arc__list");

            Object.keys(data.months).forEach(monthName => {

                let monthTitle = document.createElement("h2");
                monthTitle.textContent = monthName;
                archiveList.appendChild(monthTitle)

                let categoryList = document.createElement("div")
                archiveList.appendChild(categoryList)

                let month = data.months[monthName];

                Object.keys(month).forEach(categoryName => {
                    let categoryTitle = document.createElement("h3");
                    categoryTitle.textContent = categoryName;
                    categoryList.appendChild(categoryTitle)    
                
                })
    
            })
        });

        

        // fetch('archive.json')
        // .then(response => response.json())
        // .then(data => {
        //     const container = document.getElementById('books-container');
            
        //     data.books.forEach(book => {
        //         const h3 = document.createElement('h3');
        //         h3.textContent = book.title;
                
        //         const p = document.createElement('p');
        //         p.textContent = book.author;
                
        //         container.appendChild(h3);
        //         container.appendChild(p);
        //     });
        // })
        // .catch(error => console.error('Error loading books:', error));
        </script>
    </script>
    <script type="text/javascript" src="js/nav.js"></script>
</body>
</html>