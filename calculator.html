<!DOCTYPE html>
<html lang="en">
<head>
    <title>Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- style -->
    <link href="css/styles.css" rel="stylesheet">
    <!-- font links -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">    
</head>
<body class="flex--desk items--start--desk justify--center--desk">
    <header class="card card--s flex justify--space-between flex--col--desk items--center--desk">
            <a href="index.html" class="nav__logo">M/V</a>
            <nav class="flex--col items--end items--center--desk">
                <button class="btn--icon js-nav-btn"><img class="js-iconNav" src="img/menu-open.svg" alt=""></button>
                <ul class="js-nav">
                    <li><a href="index.html" class="nav__link"><span class="">archive</span></a></li>
                    <li><a href="prompts.html" class="nav__link"><span class="">prompts</span></a></li>
                    <li><a href="shapes.html" class="nav__link"><span class="">shapes</span></a></li>
                    <li><a href="calculator.html" class="nav__link"><span class="nav__link--active">calculator</span></a></li>
                </ul>
            </nav>
    </header>   
    <main class="card card--m stack--l">
        <h1>calculator</h1>
        <form class="js-calculator stack--m">
            <div class="container container--m container__text--strong flex--col items--center gap--s">
            <p class="">new amount: <span><output for="a b c" id="result">0</output></span></p>
            </div>
            <div class="flex gap--s">
                <div style="flex: 1 1 auto; width: 100%;" >
                    <label for="b">old portions</label>
                    <input type="number" id="b" style="width: 100%;">
                </div>
                <div style="flex: 1 1 auto; width: 100%;">
                    <label for="c">new portions</label>
                    <input type="number" id="c" style="width: 100%;">
                </div>
                <div style="flex: 1 1 auto; width: 100%;">
                    <label for="a">old amount</label>
                    <input type="number" id="a" style="width: 100%;">
                </div>
            </div>
        </form>

         <form class="js-dates stack--m">

            <div class="container container--m container__text--strong flex--col items--center gap--s">
            <p class="">days since: <span><output for="js-start-date js-end-date" class="js-days-passed">0</output></span></p>
            </div>

            <div class="flex gap--s">
                <input type="date" class="js-start-date" style="width: 100%;">
                <input type="date" class="js-end-date" style="width: 100%;">
            </div>
        </form>



    </main> 
<script type="text/javascript" src="js/nav.js"></script>
<script>
    const form = document.querySelector(".js-calculator");
    const a = form.elements["a"];
    const b = form.elements["b"];
    const c = form.elements["c"];
    const result = form.elements["result"];
    
    function updateResult() {
        const aValue = parseInt(a.value);
        const bValue = parseInt(b.value);
        const cValue = parseInt(c.value);
        result.value = aValue*cValue/bValue;
    }
    
    form.addEventListener("input", updateResult);
    
    updateResult();


        const datesForm = document.querySelector(".js-dates");
    let StartDate = document.querySelector(".js-start-date");
    let EndDate = document.querySelector(".js-end-date");
    const DaysPassed = document.querySelector(".js-days-passed");

    StartDate.valueAsDate = new Date();
    EndDate.valueAsDate = new Date();


    function CalculateDays() {

        let StartDate = document.querySelector(".js-start-date").valueAsDate;
        let EndDate = document.querySelector(".js-end-date").valueAsDate;

        const DifferenceTime = new Date(EndDate).getTime() - new Date(StartDate).getTime();

        const DifferenceDays = Math.round (DifferenceTime / (1000 * 3600 * 24));

        DaysPassed.textContent = DifferenceDays;
    }

    datesForm.addEventListener("input", CalculateDays);

</script>
</body>
</html>